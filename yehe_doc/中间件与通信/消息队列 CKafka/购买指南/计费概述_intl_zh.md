>?从2021年07月15日0:00:00开始，存量按量计费实例开始收费。

本章节主要介绍消息队列 CKafka 版的产品规格，计费项目，计费模式和实例价格。

## 产品规格

消息队列 CKafka 版实例按照规格分为标准版和专业版，两个版本的对比如下：

| 项目                 | 专业版                                                       | 标准版                                                       |
| :------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 版本                 | 兼容开源0.10、1.1、2.4版本可以在购买时自由选择          | 兼容开源0.10、1.1版本默认安装1.1版本，不支持定制版本    |
| 实例类型             | 专享实例，每个实例单独一个集群，独立虚拟节点                 | 共享物理节点资源                                             |
| 稳定性 SLA           | 99.995%                                                      | 99.95%                                                       |
| 实例规格             | 没有固定型号，可以根据实际业务场景定制规格                   | 分为入门型、标准型和进阶型等8种固定的实例类型                |
| Topic/Partition 规格 | 相同带宽下 Topic/Partition 容量远大于标准版支持在一定范围内额外购买 Partition 包来扩容上限 | 每个型号固定上限                                             |
| 扩容                 | 自由度高，可以单独扩容带宽、Topic/Partition上限、磁盘        | 自由度低，可以单独扩容磁盘                                 |
| 性能调优             | 支持根据业务场景定制，更少参数限制                           | 根据不同实例规格限制 Topic、partition 个数                   |
| 自动化清理磁盘       | 是，自动清理过期数据                                         | 否，磁盘满后需要 <a href="https://console.cloud.tencent.com/workorder/category?level1_id=876&level2_id=951&source=0&data_title=消息队列 CKafka&level3_id=955&radio_title=配额提升申请&queue=81&scene_code=18356&step=2">提交工单</a> 处理 |
| broker 修复升级      | 可以针对性升级，升级过程快速且几乎无感知，稳定性强           | 受限于共享集群，升级解决问题周期较长                         |
| 高可用能力           | 支持同地域自定义多可用区部署，提升容灾能力                   | 不支持同城跨可用区部署，依赖于后台迁移，需要 <a href="https://console.cloud.tencent.com/workorder/category?level1_id=876&level2_id=951&source=0&data_title=消息队列 CKafka&level3_id=954&radio_title=使用咨询(SDK/API/产品等)&queue=81&scene_code=18346&step=2">提交工单</a> 申请，一般处理周期为10个工作日 |
| 高级特性             | 定时 rebalance，升配可以自定义 rebalance 执行时间，避开业务高峰，详情参见 [升配实例](https://intl.cloud.tencent.com/document/product/597/40650)高级监控，包括网络稳定性分析，请求时延分析等），详情参见 [查询高级监控信息](https://intl.cloud.tencent.com/document/product/597/40038) 支持根据磁盘水位动态调节消息保留策略，详情参见 [添加消息动态保留策略](https://intl.cloud.tencent.com/document/product/597/40211) | 无                                                           |
| 技术服务             | 提供参数优化咨询服务，可以针对部分特殊的业务场景定制化参数配置，您可以 <a href="https://console.cloud.tencent.com/workorder/category?level1_id=876&level2_id=951&source=0&data_title=消息队列 CKafka&level3_id=954&radio_title=使用咨询(SDK/API/产品等)&queue=81&scene_code=18346&step=2">提交工单</a> 申请 | 基础的故障处理和问题修复                                     |

> ?
>
> **专业版**默认开启自动化清理磁盘功能，当实例磁盘满了以后，会自动清理最早数据，保证实例可用。

## 计费项目

计费项目如下：

| 项目      | 专业版 | 标准版 | 说明                                                         |
| :-------- | :----- | :----- | :----------------------------------------------------------- |
| 峰值带宽  | ✔      | ✔      | 吞吐量指出入带宽峰值，40MB吞吐指出和入的带宽峰值为40MB。考虑实例的副本个数，需要均分吞吐量，例如，客户要求40MB吞吐、3副本，则需要购买120MB/s的吞吐带宽。 |
| 磁盘容量  | ✔      | ✔      | <li>不同实例规格对应不同的磁盘容量。</li><li> 消息队列 CKafka 版标准版支持的磁盘类型为 SSD 云硬盘，专业版支持的磁盘类型为 SSD 云硬盘和高性能云硬盘。</li> |
| Partition | ✔      | -      | <li>不同实例规格对应不同的 Partition 数量，专业版的 Partition 可以单独额外购买 。</li><li>专业版 Topic 不再额外计费，最高可使用的 Topic 数量 = Partition 数量/副本数。</li><li>不支持缩减 Partition 数量。</li><li>实例级别的 Paritition 限制包含了副本数。例如：一个实例下有1个双副本、4分区的 Topic、 2个3副本、3分区的 Topic，则该实例的总 partition 个数为 （1 × 2 × 4）+（2 × 3 × 3）= 26个。</li> |

## 计费模式

| 模式     | 专业版 | 标准版 | 说明                                                         |
| :------- | :----- | :----- | :----------------------------------------------------------- |
| 包年包月 | ✔      | -      | 最终购买的专业版实例的总费用 = (基础套餐包费用 + Partition 包单价 × 额外 Partition 数量 / 100 + 磁盘容量单价 × 磁盘容量 / 100) × 月数，详细价格参考[专业版价格]()。 |
| 按量计费 | ✔      | ✔      | <li>最终购买的专业版实例的总费用 =(基础套餐包费用 + Partition 包单价 × 额外 Partition 数量 / 100 + 磁盘容量单价 × 磁盘容量 / 100)  × 小时，详细价格参考[专业版价格]()。</li><li>最终购买的标准版实例的总费用 = (基础套餐包费用 + 磁盘容量单价 × 磁盘容量 / 100) × 小时，详细价格参考[标准版价格]()。</li> |

> ?
>
> 在按量付费模式下，用户按需选择流量规格以及磁盘容量等配置项，计费以小时为单位，不足一小时按照一小时计算。每个月出一次账单。在购买按量付费实例后，系统会分配相应的实例资源。因此，按量付费模式是以实例单价×服务时间计费的，与购买后是否使用该实例无关。
>
> 暂不支持提前进行缩容，您可以先 [提交工单](https://intl.cloud.tencent.com/login/subAccount?s_url=https%3A%2F%2Fconsole.cloud.tencent.com%2Fworkorder%2Fcategory) 申请缩容，等待到下一计费周期开始前，后台会为您执行缩容，执行后新的一个月/年会按照缩容后的规格计算。

## 包年包月

### 专业版价格

CKafka 专业版提供了更为灵活的参数选配方式和更稳定的升配能力，您可以根据具体的业务现状按需选购以及扩容。

**基础套餐包**

您在选择峰值带宽大小后，会自动对应到一个基础套餐包的阶梯上，每个阶梯的基础套餐包含有一定数量的Partition，Topic不再额外计费，套餐内可使用的Topic数量 = Partition数量/副本数。

峰值带宽（x）的阶梯如下：

| 峰值带宽阶梯（MB/s） | 套餐Partition规格（个） |
| :------------------- | :---------------------- |
| 40 ≤ x＜120          | 2000                    |
| 120 ≤ x＜320         | 2000                    |
| 320 ≤ x＜920         | 2000                    |
| 920 ≤ x＜1200        | 2800                    |
| x = 1200             | 3200                    |
| x = 1600             | 8000                    |
| x = 2000             | 10000                   |
| x = 2400             | 12000                   |
| x = 2800             | 14000                   |
| x = 3200             | 16000                   |

> ?
>
> - 套餐包含的Partition 数量包含在套餐包的费用中，不额外收费。
> - 如需更高规格的消息队列 CKafka 版实例，请联系商务经理或 [提交工单](https://intl.cloud.tencent.com/login/subAccount?s_url=https%3A%2F%2Fconsole.cloud.tencent.com%2Fworkorder%2Fcategory) 进行开通。

峰值带宽基础包的价格按照不同阶梯进行计费，价格阶梯如下：

| 阶梯      | 峰值带宽范围（MB/s） | 价格（包年包月）                            |
| :-------- | :------------------- | :------------------------------------------ |
| 基础I型   | 40~100               | 360美元/月起步，每+20MB/s 增加 53美元/月    |
| 基础II型  | 120~300              | 630美元/月起步，每+20MB/s 增加 51美元/月    |
| 基础III型 | 320~600              | 1200美元/月起步，每+20MB/s 增加 49美元/月   |
| 基础IV型  | 620~900              | 2340美元/月起步，每+20MB/s 增加 43美元/月   |
| 基础V型   | 920~1200             | 3090美元/月起步，每+20MB/s 增加 34美元/月   |
| 高性能型  | 1600~10000           | 4150美元/月起步，每+400MB/s 增加 856美元/月 |

例：一个180MB/s的实例，归属于基础II型，在120MB/s的基础上增加了60MB/s，则该套餐包的价格为 630 + 51 × ( 60 / 20 ) = 783 (美元/月)

**Partition 叠加包价格**

您在选择峰值带宽大小后，若所对应的基础套餐包内的 Partition 规格仍不满足需求，则可以额外单独购买 Partition 叠加包。Partition 叠加包按照100个分区为1个单位叠加，Partition 叠加包价格如下：

| 阶梯     | 单位Partition数（个） | Partition包单价（包年包月） |
| :------- | :-------------------- | :-------------------------- |
| 任何阶梯 | 100                   | 35美元/月                   |

**扩容磁盘价格**

购买 CKafka 专业版需要最低购买一定大小的磁盘，磁盘按照100GB为1单位扩容，磁盘的价格如下：

| 阶梯     | 磁盘类型     | 单位磁盘容量（GB） | 磁盘单价（包年包月） |
| :------- | :----------- | :----------------- | :------------------- |
| 任何阶梯 | SSD 云硬盘   | 100                | 16美元/月            |
| 任何阶梯 | 高性能云硬盘 | 100                | 6美元/月             |

## 按量计费

### 标准版价格

消息队列 CKafka 版标准版根据**峰值吞吐性能**及**磁盘容量**不同分为入门型和标准型等8种实例类型。

**实例价格**

| 实例类别  | 峰值吞吐量（MB/s） | 磁盘容量（GB） | 实例级别 Topic 数 | 实例级别 partition 数 | 价格（美元/小时） |
| :-------- | :----------------- | :------------- | :---------------- | :-------------------- | :---------------- |
| 入门型    | 40                 | 300            | 25                | 60                    | 0.09              |
| 标准型    | 100                | 1000           | 40                | 100                   | 0.25              |
| 进阶型    | 150                | 2500           | 50                | 150                   | 0.57              |
| 容量型    | 180                | 4000           | 150               | 300                   | 0.82              |
| 高阶型 L1 | 300                | 6000           | 250               | 500                   | 1.06              |
| 高阶型 L2 | 400                | 6000           | 250               | 500                   | 1.34              |
| 高阶型 L3 | 600                | 6000           | 350               | 600                   | 1.80              |
| 高阶型 L4 | 900                | 9000           | 450               | 700                   | 2.68              |

**单独扩容磁盘价格**

| 磁盘类型   | 磁盘容量（GB） | 价格（美元/小时） |
| :--------- | :------------- | :---------------- |
| 高性能云硬盘 | 100            | 0.01              |

> ? 如需更高规格的消息队列 CKafka 版实例，请联系商务经理或 [提交申请](https://intl.cloud.tencent.com/login/subAccount?s_url=https%3A%2F%2Fconsole.cloud.tencent.com%2Fworkorder%2Fcategory) 进行开通。

### 专业版价格

CKafka 专业版提供了更为灵活的参数选配方式和更稳定的升配能力，您可以根据具体的业务现状按需选购以及扩容。

**基础套餐包**

您在选择峰值带宽大小后，会自动对应到一个基础套餐包的阶梯上，每个阶梯的基础套餐包含有一定数量的Partition，Topic不再额外计费，套餐内可使用的Topic数量 = Partition数量/副本数。

峰值带宽（x）的阶梯如下：

| 峰值带宽阶梯（MB/s） | 套餐Partition规格（个） |
| :------------------- | :---------------------- |
| 40 ≤ x＜120          | 2000                    |
| 120 ≤ x＜320         | 2000                    |
| 320 ≤ x＜920         | 2000                    |
| 920 ≤ x＜1200        | 2800                    |
| x = 1200             | 3200                    |
| x = 1600             | 8000                    |
| x = 2000             | 10000                   |
| x = 2400             | 12000                   |
| x = 2800             | 14000                   |
| x = 3200             | 16000                   |

> ?
>
> - 套餐包含的 Partition 数量包含在套餐包的费用中，不额外收费。
> - 如需更高规格的消息队列 CKafka 版实例，请联系商务经理或 [提交工单](https://intl.cloud.tencent.com/login/subAccount?s_url=https%3A%2F%2Fconsole.cloud.tencent.com%2Fworkorder%2Fcategory) 进行开通。

峰值带宽基础包的价格按照不同阶梯进行计费，价格阶梯如下：

| 阶梯      | 峰值带宽范围（MB/s） | 价格（按量计费）                                 |
| :-------- | :------------------- | :----------------------------------------------- |
| 基础I型   | 40~100               | 0.55美元/小时起步，每+20MB/s 增加 0.09美元/小时  |
| 基础II型  | 120~300              | 0.96美元/小时起步，每+20MB/s 增加 0.08美元/小时  |
| 基础III型 | 320~600              | 1.83美元/小时起步，每+20MB/s 增加 0.07美元/小时  |
| 基础IV型  | 620~900              | 3.57美元/小时起步，每+20MB/s 增加 0.06美元/小时  |
| 基础V型   | 920~1200             | 4.72美元/小时起步，每+20MB/s 增加 0.05美元/小时  |
| 高性能型  | 1600~10000           | 6.34美元/小时起步，每+400MB/s 增加 1.31美元/小时 |

例：一个180MB/s的实例，归属于基础II型，在120MB/s的基础上增加了60MB/s，则该套餐包的价格为 0.96 + 0.08 × ( 60 / 20 ) = 1.2 (美元/小时)

**Partition 叠加包价格**

您在选择峰值带宽大小后，若所对应的基础套餐包内的 Partition 规格仍不满足需求，则可以额外单独购买 Partition 叠加包。Partition 叠加包按照100个分区为1个单位叠加，Partition 叠加包价格如下：

| 阶梯     | 单位Partition数（个） | Partition包单价（按量计费） |
| :------- | :-------------------- | :-------------------------- |
| 任何阶梯 | 100                   | 0.05 美元/月                |

**扩容磁盘价格**

购买 CKafka 专业版需要最低购买一定大小的磁盘，磁盘按照100GB为1单位扩容，磁盘的价格如下：

| 阶梯     | 磁盘类型     | 单位磁盘容量（GB） | 磁盘单价（按量计费） |
| :------- | :----------- | :----------------- | :------------------- |
| 任何阶梯 | SSD 云硬盘   | 100                | 0.03美元/小时        |
| 任何阶梯 | 高性能云硬盘 | 100                | 0.01美元/小时        |

