## ユースケース
Tencent Cloudは、さまざまなシナリオに対応する[クラシックネットワークとVirtual Private Cloud](https://intl.cloud.tencent.com/document/product/215/31807)を提供します。これに基づき、お客様がネットワークを管理しやすいよう、当社では以下の更なる柔軟なサービスを提供します。
- **ネットワーク間の切り替え**
  - 基本ネットワークからVPCへの切り替え：単一のクラウドデータベースマスターインスタンスの基本ネットワークからVPCへの切り替えをサポートします。
  - VPC AからVPC Bへの切り替え：単一のクラウドデータベースマスターインスタンスのVPC AからVPC Bへの切り替えをサポートします。
- **IPポートのカスタム設定**
  - マスターインスタンスIPのカスタマイズ：インスタンスの詳細画面で、マスターインスタンスのIPとポートのカスタマイズをサポートします。
  - 読み取り専用インスタンスIPのカスタマイズ：インスタンスの詳細画面で、読み取り専用インスタンスのIPとポートのカスタマイズをサポートします。

## 注意事項
- 基本ネットワークがVPCに切り替えられた後、同じVirtual Private Cloud上のクライアントのみが相互通信できます。VPCセグメントを[構成](https://intl.cloud.tencent.com/document/product/215/31805)することで、基本ネットワークIPアドレスから変更せずにVPC IPを維持できます。
- 旧IPアドレスの保留時間はデフォルトで24時間、最長保留時間は168時間までサポートしています。旧IPアドレスの回収時間を0時間に設定すると、ネットワークの切り替え後にすぐに旧IPアドレスが回収されます。
- クラシックネットワークからVPCに切り替えた後は不可逆となり、TencentDBインスタンスがVPCに切り替わった後、他のVPC及びクラシックネットワークのTencent Cloudサービスと相互に接続されません。
- マスターインスタンスのネットワークを切り替えた後、マスターインスタンスにマウントされた読み取り専用インスタンスまたは災害復旧インスタンスのネットワークは自動的に切り替えられません。つまり、ネットワークの切り替えは手動で行わなければなりません。

## サブネットの説明
- サブネットは、Virtual Private Cloud（VPC）のネットワーク空間で、論理的な概念です。同じVPC下で異なるアベイラビリティーゾーンのサブネットを作成できます。同じVPC下の異なるアベイラビリティーゾーンのサブネットは、デフォルトで相互に通信できます。
- ネットワークを選択すると、サブネットはデフォルトで、選択したインスタンスの同じアベイラビリティーゾーンのサブネットIPとして表示されます。また、同じリージョン内の他のアベイラビリティーゾーンでサブネットIPをカスタマイズして選択することもできます。実際のサービス接続アクセスは最も近いロジックに基づいているため、ネットワークのレイテンシーは増加しません。

## 操作手順
### ネットワークの切り替え
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストのインスタンスIDまたは**操作**列の**管理**をクリックし、インスタンス詳細ページに進みます。
2. インスタンスの基本情報の**所属ネットワーク**の後、ネットワーク間の切り替えのタイプに基づき、**VPCネットワークへの切り替え**または**ネットワークの切り替え**をクリックします。
3. ポップアップしたダイアログボックスで、VPCおよび対応するサブネットワークを選択し、**OK**をクリックします。
>?
>- IPアドレスが指定されていない場合、システムによって自動的にIPアドレスを割り当てます。
>- 宛先VPCは、MySQLインスタンスが配置されているリージョンのVPCネットワークしか選択できませんが、サブネットアベイラビリティーゾーンの選択を制限せず、サブネットアドレス範囲を表示することができます。
>- CVMが配置されているリージョンのVPCを選択することをお勧めします。そうでない場合、CVMはプライベートネットワークを通じてMySQLにアクセスすることができません（2つのVPC間で[Peering Connection](https://intl.cloud.tencent.com/document/product/553/18827) または[CCN]](https://intl.cloud.tencent.com/document/product/1003/30049)）を構築した場合を除く）。
>
   - **クラシックネットワークからVPCへの切り替え**
![](https://main.qcloudimg.com/raw/ba78ed608b83c2f553cb72350b726491.png)
   - **VPC間の切り替え**
![](https://qcloudimg.tencent-cloud.cn/raw/82c30b3269695e6428de87d2c2c06cc0.png)
4. インスタンスの詳細ページに戻ると、インスタンスが属するネットワークを確認することができます。

### ROグループのネットワーク切り替え
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストのインスタンスIDまたは**操作**列の**管理**をクリックし、インスタンス詳細ページに進みます。
2. 読み取り専用インスタンスの**ROグループ情報**で、ネットワーク切り替えのタイプ（基本ネットワークからVPC/VPCからVPC）に応じて、**サブネットの変更**または**VPCネットワークへの切り替え**をクリックします。
3. ポップアップしたダイアログボックスで、VPCおよびサブネットワークを選択し、**OK**をクリックします。
>?
>- IPアドレスが指定されていない場合、システムによって自動的にIPアドレスを割り当てます。
>- 宛先VPCは、MySQLインスタンスが配置されているリージョンのVPCネットワークしか選択できませんが、サブネットアベイラビリティーゾーンの選択を制限せず、サブネットアドレス範囲を表示することができます。
>- CVMが配置されているリージョンのVPCを選択することをお勧めします。そうでない場合、CVMはプライベートネットワークを通じてMySQLにアクセスすることができません（2つのVPC間で[Peering Connection](https://intl.cloud.tencent.com/document/product/553/18827) または[CCN]](https://intl.cloud.tencent.com/document/product/1003/30049)）を構築した場合を除く）。

### IPポートのカスタマイズ
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストのインスタンスIDまたは**操作**列の**管理**をクリックし、インスタンス詳細ページに進みます。
2. インスタンスの基本情報のプライベートネットワークアドレス、ポートの後、<img src="https://main.qcloudimg.com/raw/788902e3f8c335cf17de420f7181c2a8.png"  style="margin:0;">をクリックします。
>!プライベートアドレスとポートを変更すると、アクセス中のデータベース業務に影響が出る場合があります。
3. ポップアップしたダイアログボックスで、IPまたはポートをカスタマイズし、内容を確認後、**OK**をクリックします。
